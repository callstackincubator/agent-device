"use strict";(self.rspackChunkagent_device_docs=self.rspackChunkagent_device_docs||[]).push([["294"],{2701(s,e,n){n.r(e),n.d(e,{default:()=>o});var i=n(6259),r=n(5731);function l(s){let e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,r.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"commands",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#commands",children:"#"}),"Commands"]}),"\n",(0,i.jsx)(e.p,{children:"This page summarizes the primary command groups."}),"\n",(0,i.jsxs)(e.h2,{id:"navigation",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#navigation",children:"#"}),"Navigation"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" boot"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" boot"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ios"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" boot"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" android"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" open"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" [app"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"url]"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" [url]"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" close"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" [app]"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" back"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" home"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" app-switcher"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"boot"})," ensures the selected target is ready without launching an app."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"boot"})," requires either an active session or an explicit device selector."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"boot"})," is mainly needed when starting a new session and ",(0,i.jsx)(e.code,{children:"open"})," fails because no booted simulator/emulator is available."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"open [app|url] [url]"})," already boots/activates the selected target when needed."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"open <url>"})," deep links are supported on Android and iOS."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"open <app> <url>"})," opens a deep link on iOS."]}),"\n",(0,i.jsxs)(e.li,{children:["On iOS devices, ",(0,i.jsx)(e.code,{children:"http(s)://"})," URLs open in Safari when no app is active. Custom scheme URLs require an active app in the session."]}),"\n"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" open"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "https://example.com"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ios"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"           # open link in web browser"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" open"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" MyApp"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "myapp://screen/to"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ios"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"       # open deep link to MyApp"})]})]})})}),"\n",(0,i.jsxs)(e.h2,{id:"snapshot-and-inspect",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#snapshot-and-inspect",children:"#"}),"Snapshot and inspect"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" [-i] [-c] [-d "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"depth"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"] [-s "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"scope"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"] [--raw]"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" diff"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" [-i] [-c] [-d "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"depth"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"] [-s "}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"scope"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"] [--raw]"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" get"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" text"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" @e1"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" get"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" attrs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" @e1"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"iOS snapshots use XCTest on simulators and physical devices."}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"diff snapshot"})," compares the current snapshot with the previous session baseline and then updates baseline."]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"interactions",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#interactions",children:"#"}),"Interactions"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" click"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" @e1"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" focus"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" @e2"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" fill"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" @e2"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "text"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"          # Clear then type"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" type"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "text"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"              # Type into focused field without clearing"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" press"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 300"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 500"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" press"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 300"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 500"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --count"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 12"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --interval-ms"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 45"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" press"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 300"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 500"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --count"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 6"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --hold-ms"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 120"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --interval-ms"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 30"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --jitter-px"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 2"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" swipe"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 540"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 1500"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 540"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 500"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 120"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" swipe"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 540"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 1500"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 540"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 500"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 120"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --count"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 8"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --pause-ms"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 30"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --pattern"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ping-pong"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" longpress"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 300"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 500"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 800"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" scroll"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" down"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0.5"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" scrollintoview"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Sign in"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" scrollintoview"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" @e42"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" pinch"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 2.0"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"          # zoom in 2x (iOS simulator)"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" pinch"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 0.5"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 200"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 400"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # zoom out at coordinates (iOS simulator)"})]})]})})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"fill"})," clears then types. ",(0,i.jsx)(e.code,{children:"type"})," does not clear.\nOn Android, ",(0,i.jsx)(e.code,{children:"fill"})," also verifies text and performs one clear-and-retry pass on mismatch.\n",(0,i.jsx)(e.code,{children:"swipe"})," accepts an optional ",(0,i.jsx)(e.code,{children:"durationMs"})," argument (default ",(0,i.jsx)(e.code,{children:"250ms"}),", range ",(0,i.jsx)(e.code,{children:"16..10000"}),").\nOn iOS, swipe duration is clamped to a safe range (",(0,i.jsx)(e.code,{children:"16..60ms"}),") to avoid longpress side effects.\n",(0,i.jsx)(e.code,{children:"scrollintoview"})," accepts plain text or a snapshot ref (",(0,i.jsx)(e.code,{children:"@eN"}),"); ref mode uses best-effort geometry-based scrolling without post-scroll verification. Run ",(0,i.jsx)(e.code,{children:"snapshot"})," again before follow-up ",(0,i.jsx)(e.code,{children:"@ref"})," commands.\n",(0,i.jsx)(e.code,{children:"longpress"})," is supported on iOS and Android.\n",(0,i.jsx)(e.code,{children:"pinch"})," is iOS simulator-only."]}),"\n",(0,i.jsxs)(e.h2,{id:"find-semantic",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#find-semantic",children:"#"}),"Find (semantic)"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" find"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Sign In"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" click"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" find"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" label"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Email"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" fill"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "user@example.com"'})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" find"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" role"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" button"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" click"})]})]})})}),"\n",(0,i.jsxs)(e.h2,{id:"replay",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#replay",children:"#"}),"Replay"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" open"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" Settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ios"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --session"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" e2e"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --save-script"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" [path]"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" replay"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ./session.ad"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"      # Run deterministic replay from .ad script"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" replay"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -u"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ./session.ad"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"   # Update selector drift and rewrite .ad script in place"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"replay"})," runs deterministic ",(0,i.jsx)(e.code,{children:".ad"})," scripts."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"replay -u"})," updates stale recorded actions and rewrites the same script."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"--save-script"})," records a replay script on ",(0,i.jsx)(e.code,{children:"close"}),"; optional path is a file path and parent directories are created."]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["See ",(0,i.jsx)(e.a,{href:"/docs/replay-e2e.html",children:"Replay & E2E (Experimental)"})," for recording and CI workflow details."]}),"\n",(0,i.jsxs)(e.h2,{id:"batch",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#batch",children:"#"}),"Batch"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" batch"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --steps-file"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" /tmp/batch-steps.json"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --json"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" batch"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --steps"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' \'[{"command":"open","positionals":["settings"]}]\''})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"batch"})," runs a JSON array of steps in a single daemon request."]}),"\n",(0,i.jsxs)(e.li,{children:["each step has ",(0,i.jsx)(e.code,{children:"command"}),", optional ",(0,i.jsx)(e.code,{children:"positionals"}),", and optional ",(0,i.jsx)(e.code,{children:"flags"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:["stop-on-first-error is the supported behavior (",(0,i.jsx)(e.code,{children:"--on-error stop"}),")."]}),"\n",(0,i.jsxs)(e.li,{children:["use ",(0,i.jsx)(e.code,{children:"--max-steps <n>"})," to tighten per-request safety limits."]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["See ",(0,i.jsx)(e.a,{href:"/docs/batching.html",children:"Batching"})," for payload format, response shape, and usage guidelines."]}),"\n",(0,i.jsxs)(e.h2,{id:"app-reinstall-fresh-state",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#app-reinstall-fresh-state",children:"#"}),"App reinstall (fresh state)"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" reinstall"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" com.example.app"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ./build/app.apk"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" android"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" reinstall"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" com.example.app"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ./build/MyApp.app"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ios"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"reinstall <app> <path>"})," uninstalls and installs in one command."]}),"\n",(0,i.jsx)(e.li,{children:"Supports Android devices/emulators and iOS simulators."}),"\n",(0,i.jsx)(e.li,{children:"Useful for login/logout reset flows and deterministic test setup."}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"settings-helpers",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#settings-helpers",children:"#"}),"Settings helpers"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" wifi"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" on"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" wifi"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" off"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" airplane"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" on"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" airplane"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" off"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" location"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" on"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" location"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" off"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" faceid"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" match"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" faceid"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" nonmatch"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" faceid"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" enroll"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" settings"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" faceid"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" unenroll"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["iOS ",(0,i.jsx)(e.code,{children:"settings"})," support is simulator-only."]}),"\n",(0,i.jsx)(e.li,{children:"Face ID controls are iOS simulator-only."}),"\n",(0,i.jsxs)(e.li,{children:["Use ",(0,i.jsx)(e.code,{children:"match"}),"/",(0,i.jsx)(e.code,{children:"nonmatch"})," to simulate valid/invalid Face ID outcomes."]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"app-state-and-app-lists",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#app-state-and-app-lists",children:"#"}),"App state and app lists"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" appstate"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" apps"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ios"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" apps"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ios"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --all"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" apps"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" android"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" apps"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --platform"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" android"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --all"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Android ",(0,i.jsx)(e.code,{children:"appstate"})," reports live foreground package/activity."]}),"\n",(0,i.jsxs)(e.li,{children:["iOS ",(0,i.jsx)(e.code,{children:"appstate"})," is session-scoped and reports the app tracked by the active session on the target device."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"apps"})," includes default/system apps by default (use ",(0,i.jsx)(e.code,{children:"--user-installed"})," to filter)."]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"media-and-logs",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#media-and-logs",children:"#"}),"Media and logs"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" screenshot"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"                 # Auto filename"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" screenshot"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" page.png"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"        # Explicit screenshot path"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" record"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" start"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"               # Start screen recording to auto filename"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" record"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" start"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" session.mp4"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"   # Start recording to explicit path"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" record"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" start"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" session.mp4"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --fps"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:" 30"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  # Override iOS device runner FPS"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" record"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" stop"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"                # Stop active recording"})]})]})})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Session app logs (token-efficient debugging):"})," Logging is off by default in normal flows. Enable it on demand for debugging. Logs are written to a file so agents can grep instead of loading full output into context."]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" path"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"                  # Print session log file path (e.g. ~/.agent-device/sessions/default/app.log)"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" start"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"                 # Start streaming app stdout/stderr to that file (requires open first)"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" stop"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"                  # Stop streaming"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" clear"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"                 # Truncate app.log + remove rotated app.log.N files (requires stopped stream)"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" clear"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" --restart"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"       # Stop stream, clear log files, and start streaming again"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" doctor"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"                # Show logs backend/tool checks and readiness hints"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" mark"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "before submit"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"  # Insert timeline marker into app.log"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Supported on iOS simulator, iOS physical device, and Android."}),"\n",(0,i.jsxs)(e.li,{children:["Preferred debug entrypoint: ",(0,i.jsx)(e.code,{children:"logs clear --restart"})," for clean-window repro loops."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"logs start"})," appends to ",(0,i.jsx)(e.code,{children:"app.log"})," and rotates to ",(0,i.jsx)(e.code,{children:"app.log.1"})," when the file exceeds 5 MB."]}),"\n",(0,i.jsx)(e.li,{children:"Android log streaming automatically rebinds to the app PID after process restarts."}),"\n",(0,i.jsxs)(e.li,{children:["iOS log capture relies on Unified Logging signals (for example ",(0,i.jsx)(e.code,{children:"os_log"}),"); plain stdout/stderr output may be limited depending on app/runtime."]}),"\n",(0,i.jsxs)(e.li,{children:["Retention knobs: set ",(0,i.jsx)(e.code,{children:"AGENT_DEVICE_APP_LOG_MAX_BYTES"})," and ",(0,i.jsx)(e.code,{children:"AGENT_DEVICE_APP_LOG_MAX_FILES"})," to override rotation limits."]}),"\n",(0,i.jsxs)(e.li,{children:["Optional write-time redaction patterns: set ",(0,i.jsx)(e.code,{children:"AGENT_DEVICE_APP_LOG_REDACT_PATTERNS"})," to a comma-separated regex list."]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Grepping app logs:"})," Use ",(0,i.jsx)(e.code,{children:"logs path"})," to get the file path, then run ",(0,i.jsx)(e.code,{children:"grep"})," (or ",(0,i.jsx)(e.code,{children:"grep -E"}),") on that path so only matching lines enter contextâ€”keeping token use low."]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(e.code,{children:[(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Get path first (e.g. ~/.agent-device/sessions/default/app.log)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" logs"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" path"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Then grep the path; -n adds line numbers for reference"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"grep"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -n"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Error\\|Exception\\|Fatal"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ~/.agent-device/sessions/default/app.log"})]}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"grep"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -n"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -E"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Error|Exception|Fatal|crash"'}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ~/.agent-device/sessions/default/app.log"})]}),"\n",(0,i.jsx)(e.span,{className:"line"}),"\n",(0,i.jsx)(e.span,{className:"line",children:(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:"# Last 50 lines only (bounded context)"})}),"\n",(0,i.jsxs)(e.span,{className:"line",children:[(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"tail"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" -50"}),(0,i.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" ~/.agent-device/sessions/default/app.log"})]})]})})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Use ",(0,i.jsx)(e.code,{children:"-n"})," to include line numbers. Use ",(0,i.jsx)(e.code,{children:"-E"})," for extended regex and ",(0,i.jsx)(e.code,{children:"|"})," without escaping in the pattern."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Prefer targeted patterns (e.g. ",(0,i.jsx)(e.code,{children:"Error"}),", ",(0,i.jsx)(e.code,{children:"Exception"}),", your log tags) over reading the whole file."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["iOS ",(0,i.jsx)(e.code,{children:"record"})," works on simulators and physical devices."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["iOS simulator recording uses native ",(0,i.jsx)(e.code,{children:"simctl io ... recordVideo"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Physical iOS device capture is runner-based and built from repeated ",(0,i.jsx)(e.code,{children:"XCUIScreen.main.screenshot()"})," frames (no native video stream/audio capture)."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Physical iOS device recording requires an active app session context (",(0,i.jsx)(e.code,{children:"open <app>"})," first)."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Physical iOS device capture is best-effort: dropped frames are expected and true 60 FPS is not guaranteed even with ",(0,i.jsx)(e.code,{children:"--fps 60"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Physical-device capture defaults to uncapped (max available) FPS."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"--fps <n>"})," (1-120) applies to physical iOS device recording as an explicit FPS cap."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"ios-device-prerequisites",children:[(0,i.jsx)(e.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#ios-device-prerequisites",children:"#"}),"iOS device prerequisites"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Xcode + ",(0,i.jsx)(e.code,{children:"xcrun devicectl"})," available."]}),"\n",(0,i.jsx)(e.li,{children:"Paired physical device with Developer Mode enabled."}),"\n",(0,i.jsxs)(e.li,{children:["Use Automatic Signing in Xcode, or pass optional env overrides:\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"AGENT_DEVICE_IOS_TEAM_ID"})}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"AGENT_DEVICE_IOS_SIGNING_IDENTITY"})," (optional)"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"AGENT_DEVICE_IOS_PROVISIONING_PROFILE"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["If first-run XCTest setup/build is slow, increase daemon request timeout:\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"AGENT_DEVICE_DAEMON_TIMEOUT_MS=120000"})," (default is ",(0,i.jsx)(e.code,{children:"90000"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["For daemon startup troubleshooting:\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["follow stale metadata hints for ",(0,i.jsx)(e.code,{children:"~/.agent-device/daemon.json"})," and ",(0,i.jsx)(e.code,{children:"~/.agent-device/daemon.lock"})]}),"\n"]}),"\n"]}),"\n"]})]})}function o(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,r.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(l,{...s})}):l(s)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["docs%2Fcommands.md"]={toc:[{id:"navigation",text:"Navigation",depth:2},{id:"snapshot-and-inspect",text:"Snapshot and inspect",depth:2},{id:"interactions",text:"Interactions",depth:2},{id:"find-semantic",text:"Find (semantic)",depth:2},{id:"replay",text:"Replay",depth:2},{id:"batch",text:"Batch",depth:2},{id:"app-reinstall-fresh-state",text:"App reinstall (fresh state)",depth:2},{id:"settings-helpers",text:"Settings helpers",depth:2},{id:"app-state-and-app-lists",text:"App state and app lists",depth:2},{id:"media-and-logs",text:"Media and logs",depth:2},{id:"ios-device-prerequisites",text:"iOS device prerequisites",depth:2}],title:"Commands",headingTitle:"Commands",frontmatter:{title:"Commands"}}}}]);