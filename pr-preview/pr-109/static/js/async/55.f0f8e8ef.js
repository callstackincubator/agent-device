"use strict";(self.rspackChunkagent_device_docs=self.rspackChunkagent_device_docs||[]).push([["55"],{8290(e,s,n){n.r(s),n.d(s,{default:()=>l});var i=n(6259),r=n(5731);function t(e){let s={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"snapshots",children:[(0,i.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#snapshots",children:"#"}),"Snapshots"]}),"\n",(0,i.jsx)(s.p,{children:"Snapshots provide a structured view of the UI and generate stable refs."}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(s.code,{children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"                    # Full accessibility tree"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -i"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"                 # Interactive elements only (recommended)"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -c"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"                 # Compact (remove empty elements)"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -d"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 3"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"               # Limit depth to 3 levels"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -s"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:' "Contacts"'}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"      # Scope to label/identifier"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -i"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -c"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -d"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:" 5"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"         # Combine options"})]}),"\n",(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" diff"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"               # Structural diff vs previous session baseline"})]})]})})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Option"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"-i"})}),(0,i.jsx)(s.td,{children:"Interactive-only output"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"-c"})}),(0,i.jsx)(s.td,{children:"Compact structural noise"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"-d <depth>"})}),(0,i.jsx)(s.td,{children:"Limit tree depth"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"-s <scope>"})}),(0,i.jsx)(s.td,{children:"Scope to label/identifier"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"Note: If XCTest returns 0 nodes (foreground app changed), agent-device fails explicitly.\nIt does not automatically switch to AX."}),"\n",(0,i.jsxs)(s.h2,{id:"efficient-snapshot-usage",children:[(0,i.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#efficient-snapshot-usage",children:"#"}),"Efficient snapshot usage"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Default to ",(0,i.jsx)(s.code,{children:"snapshot -i"})," for agent loops."]}),"\n",(0,i.jsxs)(s.li,{children:["Add ",(0,i.jsx)(s.code,{children:'-s "<label>"'})," (or ",(0,i.jsx)(s.code,{children:"-s @ref"}),") to keep results screen-local."]}),"\n",(0,i.jsxs)(s.li,{children:["Add ",(0,i.jsx)(s.code,{children:"-d <depth>"})," when you only need upper hierarchy layers."]}),"\n",(0,i.jsx)(s.li,{children:"Re-snapshot after any UI mutation before reusing refs."}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"diff snapshot"})," between mutations to validate structural changes with lower output volume."]}),"\n",(0,i.jsxs)(s.li,{children:["Keep ",(0,i.jsx)(s.code,{children:"--raw"})," for troubleshooting only."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"diff snapshot"})," behavior:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["First run initializes baseline (",(0,i.jsx)(s.code,{children:"baselineInitialized: true"})," in JSON)."]}),"\n",(0,i.jsxs)(s.li,{children:["Later runs return unified-style lines (",(0,i.jsx)(s.code,{children:"+"})," added, ",(0,i.jsx)(s.code,{children:"-"})," removed, unchanged context) and update baseline after each call."]}),"\n"]}),"\n",(0,i.jsxs)(s.h2,{id:"example-output",children:[(0,i.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#example-output",children:"#"}),"Example output:"]}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",lang:"bash",children:(0,i.jsxs)(s.code,{children:[(0,i.jsxs)(s.span,{className:"line",children:[(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"agent-device"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" snapshot"}),(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:" -i"})]}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Output:"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"# Snapshot: 44 nodes"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'# @e1 [application] "Contacts"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"#   @e2 [window]"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"#     @e3 [other]"})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'#   @e4 [other] "Lists"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'#     @e5 [navigation-bar] "Lists"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'#       @e6 [button] "Lists"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'#       @e7 [text] "Contacts"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'#     @e8 [other] "John Doe"'})}),"\n",(0,i.jsx)(s.span,{className:"line",children:(0,i.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:'#       @e9 [other] "John Doe"'})})]})})}),"\n",(0,i.jsxs)(s.h2,{id:"backends-ios",children:[(0,i.jsx)(s.a,{className:"rp-header-anchor","aria-hidden":"true",href:"#backends-ios",children:"#"}),"Backends (iOS):"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"xctest"})," (default): full fidelity, fast, no Accessibility permission required."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"ax"}),": fast accessibility tree, may miss details, requires Accessibility permission; simulator-only."]}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["docs%2Fsnapshots.md"]={toc:[{id:"efficient-snapshot-usage",text:"Efficient snapshot usage",depth:2},{id:"example-output",text:"Example output:",depth:2},{id:"backends-ios",text:"Backends (iOS):",depth:2}],title:"Snapshots",headingTitle:"Snapshots",frontmatter:{title:"Snapshots"}}}}]);